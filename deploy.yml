environment:
  # api_token:
  #   secure: ABC123==
  #master_ci:
  #  secure: CuoEe+MMcU6PLsinM6SbBsq2QWGiTmpTH/kPfC20g7M=
  #deploy_project: $(master_ci)
  autoinstaller_zip_name:
  deploy_version: ''            # download artifacts from latest build if no version specified
  deploy_artifact: ''           # download all artifacts if empty

# download project artifacts
before_deploy:
  - ps: iex ((new-object net.webclient).DownloadString('https://github.com/trikset/trik-studio/blob/master/deploy.ps1'))

deploy:
  - provider: Environment
    name: trik-studio-fresh
    on:
      ARCH: 32
      APPVEYOR_PROJECT_SLUG: $(deploy_project)

  - provider: Environment
    name: trik-studio-64
    on:
      ARCH: 64
      APPVEYOR_PROJECT_SLUG: $(deploy_project)

  - provider: Environment
    name: github-release
    github_release_artifact: installer\$(autoinstaller_zip_name)
    on:
      ARCH: 32
      QT: 5.12
      CONFIGURATION: release
      APPVEYOR_REPO_TAG: true
      APPVEYOR_PROJECT_SLUG: $(deploy_project)

build: off
test: off
